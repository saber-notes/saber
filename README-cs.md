# <img src="https://github.com/saber-notes/saber/raw/main/assets/icon/icon.png" width="30" height="30" alt="Logo"> Saber

[<img src='https://github.com/saber-notes/saber/blob/main/assets_raw/badges/google-play-badge.png'
    alt='Ke stažení na Google Play'
    height=50>][google_play]
&nbsp;
[<img src="https://github.com/saber-notes/saber/blob/main/assets_raw/badges/f-droid-badge.png"
    alt="Ke stažení z F-Droidu"
    height=50>][f-droid]
&nbsp;
[<img src="https://github.com/saber-notes/saber/blob/main/assets_raw/badges/app-store-badge.svg"
    alt="Stáhnout v App Store"
    height=50>][app_store]
&nbsp;
[<img src="https://github.com/saber-notes/saber/blob/main/assets_raw/badges/windows-badge.png"
    alt="Stáhnout pro Windows"
    height=50>][download_windows]
&nbsp;
[<img src="https://github.com/saber-notes/saber/blob/main/assets_raw/badges/flathub-badge.svg"
    alt="Stáhnout z Flathubu"
    height=50>][flathub]
&nbsp;
[<img src="https://github.com/saber-notes/saber/blob/main/assets_raw/badges/appimage-logo.png"
    alt="Stáhnout jako AppImage"
    height=50>][download_appimage]
&nbsp;
[<img src="https://github.com/saber-notes/saber/blob/main/assets_raw/badges/snap-badge.svg"
    alt="Stáhnout ze Snap Store"
    height=50>][snap]

[English](https://github.com/saber-notes/saber/blob/main/README.md) |
[čeština](https://github.com/saber-notes/saber/blob/main/README-cs.md) |
[Deutsch](https://github.com/saber-notes/saber/blob/main/README-de.md) |
[中文 (简体中文, 中国)](https://github.com/saber-notes/saber/blob/main/README-zh-CN.md) |
[中文 (繁體, 台灣)](https://github.com/saber-notes/saber/blob/main/README-zh-TW.md)

Saber je aplikace pro psaní poznámek uzpůsobená pro ruční psaní.

Je navržena pro nejjednodušší a nejintuitivnější možné používání, přičemž stále nabízí unikátní funkce, které opravdu využijete. Navíc je Saber dostupný napříč všemi vašimi zařízeními, velkými i malými, mezi nimiž se bez povšimnutí synchronizuje.

Je na místě poznamenat, že umí invertovat vaše poznámky, pokud jste v temném módu. To vám umožňuje psát bílým inkoustem na černém pozadí, což je daleko příjemnější pro oči v prostředí s nedostatkem světla, jako když učitel ve třídě vypne osvětlení. Obrázky a PDF jsou také invertovány, takže stále můžete bez problému používat digitální výtisky nebo učebnice.

Saber používá systém dvou hesel, aby ochránil vaše poznámky před kýmkoliv kromě vás, i kdyby měl kompletní přístup k serveru. Můžete bezpečně ukládat své poznámky na oficiální server aplikace Saber, jiný server či dokonce pro tyto účely provozovat svůj vlastní server!

Aplikace má kompletně otevřené zdrojové kódy, takže si je každý může prohlédnout a přesně vidět, co aplikace dělá a jakým způsobem jsou zpracovává vaše data. Spousta dalších aplikací pro pořizování poznámek má uzavřené zdrojové kódy a je proprietární, což znamená, že co se děje uvnitř, je pro veřejnost záhadou.

Jako někdo, kdo studuje matematiku, mohu říct, že pro mě vždy bylo utrpení zvýrazňovat víceřádkové rovnice v jiných aplikacích, kde zvýrazňovač mění barvu po přetažení již zvýrazněné části. Další problém, který jsem měl v některých aplikacích, spočíval v tom, že se zvýrazňovač vykresloval nad textem, takže se text ztrácel a špatně se četl. Zvýrazňovač aplikace Saber těmito neduhy netrpí. Využívá kompozice plátna k vykreslování zvýrazňovače způsobem, který je konzistentní s tradičním papírem, ba možná i lepší, jelikož řeší překrývání a udržuje konzistenci barev.

Saber má vše, co potřebujete k tomu, abyste dokázali organizovat své poznámky. Tvořte složky uvnitř složek uvnitř složek, jak jen chcete bez omezení na počet zanořených složek. Ačkoliv může být poznámka pohřbena hluboko uvnitř vnořené složky, pořád k ní můžete jednoduše přistoupit, jelikož jsou nejnovější poznámky vždy k dispozici na domovské obrazovce.

Objevte zcela nový způsob zaznamenávání a organizace vašich myšlenek s aplikací Saber. Ať již jste student, profesionál nebo kreativní duše, Saber je vaším důvěryhodným společníkem pro digitální psaní. Stáhněte si jej nyní a nechte volně plynout své nápady!

[![GitHub release (nejnovější vydání)](https://img.shields.io/github/v/release/saber-notes/saber?label=vyd%C3%A1n%C3%AD)](https://github.com/saber-notes/saber/releases/latest)
[![Flathub](https://img.shields.io/flathub/v/com.adilhanney.saber)](https://flathub.org/apps/details/com.adilhanney.saber)
[![F-Droid](https://img.shields.io/f-droid/v/com.adilhanney.saber)](https://f-droid.org/en/packages/com.adilhanney.saber/)
[![Všechna vydání na GitHubu](https://img.shields.io/github/downloads/saber-notes/saber/total?label=sta%C5%BEen%C3%AD%20z%20GitHubu)](https://github.com/saber-notes/saber/releases)
[![Flathub](https://img.shields.io/flathub/downloads/com.adilhanney.saber?label=sta%C5%BEen%C3%AD%20z%20Flathubu)](https://flathub.org/cs/apps/details/com.adilhanney.saber)
[![Sponzoři na GitHubu](https://img.shields.io/github/sponsors/adil192?label=sponzo%C5%99i)](https://github.com/sponsors/adil192)
[![GitHub](https://img.shields.io/github/license/saber-notes/saber?label=licence)](https://github.com/saber-notes/saber/blob/main/LICENSE.md)
[![codecov](https://codecov.io/gh/saber-notes/saber/branch/main/graph/badge.svg?token=EGQSN0THW2)](https://codecov.io/gh/saber-notes/saber)

<details open>
<summary>Klepněte pro zobrazení/skrytí snímků obrazovky</summary>

<div>
<img src="https://github.com/saber-notes/saber/raw/main/metadata/en-US/images/phoneScreenshots/home.png" width="250">
<img src="https://github.com/saber-notes/saber/raw/main/metadata/en-US/images/phoneScreenshots/editor.png" width="250">
<img src="https://github.com/saber-notes/saber/raw/main/metadata/en-US/images/phoneScreenshots/settings.png" width="250">
</div>
</details>

## Features

Podívejte se na [#1 plán vývoje aplikace Saber][progress] (anglicky).

## Instalace

<details>
<summary>Klepněte pro zobrazení/skrytí instalačních instrukcí</summary>

#### Android

Možnosti:

1. Stažení z [Play Store][google_play]

2. Stažení z [F-Droidu][f-droid]
   - Je třeba poznamenat, že sestavení dostupné na F-Droidu není optimalizované pro zařízení Onyx Boox, které vyžaduje
     [proprietární závislosti](https://github.com/saber-notes/saber/issues/219) od společnosti Onyx.

3. Stažení a instalace `Saber_{verze}.apk` z nejnovějšího [vydání][releases].

#### Linux

Možnost 1 (doporučená):
Instalace pomocí flatpaku z [Flathubu][flathub]: `flatpak --user install com.adilhanney.saber`.

Možnost 2:
Stažení `Saber-{verze}-x86_64.AppImage` z nejnovějšího [vydání][releases],
nastavení práv pro spuštění `chmod +x Saber-*-x86_64.AppImage` a spuštění.

Možnost 3:
Díky @soumyaDghosh je k dispozici neoficiální [snap][snap]:
`sudo snap install saber`.

#### Windows

Stažení a instalace `SaberInstaller_{verze}.exe` z nejnovějšího [vydání][releases].

Pokud dostáváte chybu ohledně chybějících ddl, ujistěte se, že máte instalované [Visual C++ Redistributable](https://learn.microsoft.com/cs-CZ/cpp/windows/latest-supported-vc-redist).

#### iOS and macOS

Stažení aplikace Saber na [App Store][app_store].

</details>

## Sestavení ze zdrojového kódu

<details>
<summary>Klepněte pro zobrazení/skrytí instrukcí pro sestavení</summary>

### 1. Nainstalujte flutter
https://docs.flutter.dev/get-started/install
### 2. Naklonujte si tento projekt
```bash
git clone https://github.com/saber-notes/saber.git
```
### 3. Natáhněte si závislosti
```bash
flutter pub get
```

### 4. Nainstalujte dodatečné závislosti

Postup pro balíček [super_clipboard](https://pub.dev/packages/super_clipboard)
se dá shrnout jako:
- Nainstalujte [Rustu](https://www.rust-lang.org/tools/install)
- Nainstalujte NDK 26.1.10909125 v případě, že sestavujete pro Android

### 5. Sestavení pro…

#### Linux

`sudo apt install libsecret-1-dev libjsoncpp-dev`
`flutter build linux`

Toto je dostatečné pro použití na vlastním počítači, ale pokud chcete své sestavení distribuovat,
budete potřebovat použít předvídatelné prostředí: udělejte fork tohoto repozitáře a použijte místo toho GitHub Action
[Build for Linux](https://github.com/saber-notes/saber/actions/workflows/linux.yml).

#### Android

`flutter build apk`

Budete potřebovat vygenerovat a podepsat certifikát a vytvořit soubor `android/key.properties`.
Více informací na https://docs.flutter.dev/deployment/android#create-an-upload-keystore

Poznámka: vydání pro [F-Droid][f-droid-manifest] jsou sestavena výrazně odlišně
```bash
./patches/remove_proprietary_dependencies.sh
flutter build apk --dart-define=OFFLINE_FONTS_ONLY="true"
```

#### Windows

`flutter build windows`

Instalátor pro Windows je vytvořen pomocí [Inno Setup](https://jrsoftware.org/isinfo.php).
Pro vytvoření vlastního instalátoru spusťte výše uvedený příkaz a následně upravte a spusťte
[installers/desktop_inno_script.iss](https://github.com/saber-notes/saber/blob/main/installers/desktop_inno_script.iss)
pomocí Inno Setup Compiler.

#### iOS and macOS

Pokud máte počítač s macOS, můžete
[sestavovat pro iOS](https://docs.flutter.dev/deployment/ios#create-an-app-bundle)
pomocí `flutter build ipa` nebo
[sestavovat pro macOS](https://docs.flutter.dev/deployment/macos#create-a-build-archive-with-xcode)
pomocí `flutter build macos`.

Pokud nikoliv, udělejte fork tohoto repozitáře a použijte GitHub Action
[Build for macOS and iOS](https://github.com/saber-notes/saber/actions/workflows/apple.yml).
Alternativně následujte anglický YouTube tutoriál
[How to compile a flutter application to iPhone with no mac (free | no jailbreak)](https://www.youtube.com/watch?v=m3_6z2wfHiY)
pro manuální sestavení s využitím [Codemagic](https://codemagic.io/start/).

</details>

## Odkazy

- [Nextcloud server][nextcloud]
- [Zásady ochrany osobních údajů (anglicky)][privacy]
- [Licence][license]
- [Vydání][releases]

## Překlady

Veškeré překlady jsou založené na crowdsourcingu. Saber byl zatím přeložen do:
- angličtiny ([en](https://github.com/saber-notes/saber/blob/main/lib/i18n/strings.i18n.yaml))
- arabštiny ([ar](https://github.com/saber-notes/saber/blob/main/lib/i18n/community/strings_ar.i18n.yaml))
- češtiny ([cs](https://github.com/saber-notes/saber/blob/main/lib/i18n/community/strings_cs.i18n.yaml))
- němčiny ([de](https://github.com/saber-notes/saber/blob/main/lib/i18n/community/strings_de.i18n.yaml))
- španělštiny ([es](https://github.com/saber-notes/saber/blob/main/lib/i18n/community/strings_es.i18n.yaml))
- perštiny ([fa](https://github.com/saber-notes/saber/blob/main/lib/i18n/community/strings_fa.i18n.yaml))
- francouzštiny ([fr](https://github.com/saber-notes/saber/blob/main/lib/i18n/community/strings_fr.i18n.yaml))
- hebrejštiny ([he](https://github.com/saber-notes/saber/blob/main/lib/i18n/community/strings_he.i18n.yaml))
- maďarštiny ([hu](https://github.com/saber-notes/saber/blob/main/lib/i18n/community/strings_hu.i18n.yaml))
- italštiny ([it](https://github.com/saber-notes/saber/blob/main/lib/i18n/community/strings_it.i18n.yaml))
- japonštiny ([ja](https://github.com/saber-notes/saber/blob/main/lib/i18n/community/strings_ja.i18n.yaml))
- portugalské brazilštiny ([pt_BR](https://github.com/saber-notes/saber/blob/main/lib/i18n/community/strings_pt_BR.i18n.yaml))
- ruštiny ([ru](https://github.com/saber-notes/saber/blob/main/lib/i18n/community/strings_ru.i18n.yaml))
- turečtiny ([tr](https://github.com/saber-notes/saber/blob/main/lib/i18n/community/strings_tr.i18n.yaml))
- zjednodušené čínštiny ([zh_Hans_CN](https://github.com/saber-notes/saber/blob/main/lib/i18n/community/strings_zh_Hans_CN.i18n.yaml))
- tradiční čínštiny ([zh_Hant_TW](https://github.com/saber-notes/saber/blob/main/lib/i18n/community/strings_zh_Hant_TW.i18n.yaml))

Experimentuji s využitím Weblate pro crowdsourcované překlady. Více informací se dozvíte později.

### Rozšiřování existujících překladů

Podívejte se do [_missing_translations.yaml](https://github.com/saber-notes/saber/blob/main/lib/i18n/_missing_translations.yaml),
   zda nechybí nějaké překlady.

1. Pro úpravu `_missing_translations.yaml` použijte [tento odkaz](https://github.com/saber-notes/saber/edit/main/lib/i18n/_missing_translations.yaml).
2. Aktualizujte soubor `_missing_translations.yaml` pomocí svého překladu, např. aktualizací němčiny (de)
    ```yaml
    de:
      editor:
        newerFileFormat:
          title: Diese Notiz wurde mit einer neueren Version von Saber bearbeitet
          subtitle: Wenn du diese Notiz bearbeitest, können Daten verloren gehen. Möchtest du die Notiz trotzdem öffnen?
          openAnyway: Trotzdem öffnen
          cancel: Abbruch
    # ignorujte ostatní jazyky...
    ```
3. Vytvořte žádost o začlenění (pull request)! O zbytek se postarám

### Přidání nového jazyka

1. Najděte [zde](https://saimana.com/list-of-country-locale-code/) svůj kód jazyka,
   např. `hi` pro hindštinu, `fr` pro francouzštinu, `bn` for bengálštinu, `ar` pro arabštinu atd.
2. Použijte [tento odkaz](https://github.com/saber-notes/saber/new/main/lib/i18n/community)
   pro vytvoření nového souboru v `lib/i18n/community/` nazvaného `strings_XX.i18n.yaml`,
   kde `XX` je kód vašeho jazyka.
3. Zkopírujte obsah existujícího souboru jako (v ideálním případě anglického)
   [`lib/i18n/strings.i18n.yaml`](https://github.com/saber-notes/saber/blob/main/lib/i18n/strings.i18n.yaml)
   a nahraďte překlady těmi svými.
   Pokud neznáte překlad pro nějaký text, prostě daný řádek odstraňte.
4. Vytvořte žádost o začlenění (pull request)!

Pro více informací se taktéž podívejte na stránku [Jak začít s knihovnou `slang`](https://pub.dev/packages/slang#getting-started) (anglicky).

### Překlady popisů v obchodech s aplikacemi

Jsou 2 formáty popisů do obchodů s aplikacemi:

1. F-Droid/Play Store:

   i. Otevřete `metadata/en-US/` a zkopírujte soubory
      [`full_description.txt`](https://github.com/saber-notes/saber/blob/main/metadata/en-US/full_description.txt)
      a
      [`short_description.txt`](https://github.com/saber-notes/saber/blob/main/metadata/en-US/short_description.txt)
      do složky `metadata/XX/`, kde `XX` je kód vašeho jazyka.
      Následně přeložte obsahy těchto souborů.

   ii. Záznamy o změnách jsou automaticky překládané z anglické verze.
       Pokud narazíte na chybu, opravte prosím záznam o změnách v
       `metadata/XX/changelogs/<kód-verze>.txt`, kde `XX` je kód vašeho jazyka.

2. Linuxový soubor .desktop:

   i. Otevřete
   [`flatpak/com.adilhanney.saber.desktop`](https://github.com/saber-notes/saber/blob/main/flatpak/com.adilhanney.saber.desktop)
   a přidejte řádek pro klíč `Comment` v následujícím formátu, kde `XX` je kód vašeho jazyka:
    ```ini
    Comment[XX]=Váš překlad
    ```
   Pokud zároveň chcete přeložit klíč `Name`, udělejte pro něho totéž.

3. Flathub (nepovinné):

   i. Jelikož je to výrazně techničtější, jestli chcete, můžete část s Flathubem přeskočit
      a já tam zkopíruji překlady ze sekcí uvedených výše.
   
   ii. V [`flatpak/com.adilhanney.saber.metainfo.xml`](https://github.com/saber-notes/saber/blob/main/flatpak/com.adilhanney.saber.metainfo.xml)
       přidejte před uzavírací značku `</description>` svůj překlad
       v následujícím formátu, kde `XX` je kód vašeho jazyka:
    ```html
    <p xml:lang="XX">Váš překlad</p>
    ```

   iii. Ve stejném souboru můžete přeložit záznamy o změnách obdobnou změnou ve
        značkách `<release>` před jejich uzavírací značkou `</description>`.


## Podpora aplikace Saber

Pokud máte rádi Saber, zvažte prosím jeho podporu pomocí
- Poděkování!
- Hvězdičky pro projekt na GitHubu
- Sponzorství prostřednictvím [GitHub Sponsors](https://github.com/sponsors/adil192)
- Zaslání daru na [PayPal](https://paypal.me/adilhanney)
- Zakoupení více místa na oficiálním Nextcloud serveru: podívejte se na [Ceník](pricing-cs.md)

## Poznámky pro vývojáře

<details>
<summary>Zobrazit/skrýt poznámky pro vývojáře</summary>

- Když aktualizujete **verzi aplikace**:
  - Spusťte `./scripts/apply_version.sh <název-verze> <kód-verze>`
    (Pro více informací spusťte `./scripts/apply_version.sh --help`)
  - Aktualizujte záznamy o změnách v `metadata/en-US/changelogs/`
    a `flatpak/com.adilhanney.saber.metainfo.xml`,
    a spusťte `dart scripts/translate_changelogs.dart`, jak je udáno skriptem.
- Pokud aktualizujete **ikony**, spusťte tyto příkazy:
  - Obecné: `dart run icons_launcher:create`
  - Flatpak ikony: `cd assets/icon && ./resize-icon.sh`
- Když aktualizujte **překlady**…
  - Spusťte tyto příkazy:
    - `dart run slang apply --locale=XX` pro případ, že potřebujete aplikovat _missing_translations.yaml
    - `dart run slang`
    - `dart run slang analyze --full`
  - Pokud přidáváte nový jazyk, aktualizujte:
    - `CFBundleLocalizations` v `ios/Runner/Info.plist`
    - `CFBundleLocalizations` v `macos/Runner/Info.plist`
    - `android/app/src/main/res/xml/locales_config.xml`
    - `lib/data/locales.dart`
    - `README.md` (a jeho lokalizované varianty) výše v sekci "Překlady".
    - a pro překlad záznamu změn spusťte `dart scripts/translate_changelogs.dart`.

</details>

[f-droid]: https://f-droid.org/packages/com.adilhanney.saber/
[flathub]: https://flathub.org/cs/apps/details/com.adilhanney.saber
[google_play]: https://play.google.com/store/apps/details?id=com.adilhanney.saber
[snap]: https://snapcraft.io/saber
[app_store]: https://apps.apple.com/cz/app/saber/id1671523739
[download_windows]: https://github.com/saber-notes/saber/releases/download/v0.21.1/SaberInstaller_v0.21.1.exe
[download_appimage]: https://github.com/saber-notes/saber/releases/download/v0.21.1/Saber-0.21.1-x86_64.AppImage

[nextcloud]: https://nc.saber.adil.hanney.org/

[privacy]: https://github.com/saber-notes/saber/blob/main/privacy_policy.md
[license]: https://github.com/saber-notes/saber/blob/main/LICENSE.md

[releases]: https://github.com/saber-notes/saber/releases
[issues]: https://github.com/saber-notes/saber/issues
[progress]: https://github.com/saber-notes/saber/discussions/1

[f-droid-manifest]: https://gitlab.com/fdroid/fdroiddata/-/blob/master/metadata/com.adilhanney.saber.yml
